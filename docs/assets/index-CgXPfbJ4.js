import{r as J,g as w}from"./vendor-Czn-76cG.js";import{g as ee,a as te,e as R,b as ne,c as ae,d as Z,m as A,s as U,f as ie,h as W,i as j,j as se,S as re}from"./swiper-5vHbYaTT.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();class le{constructor(a){this.pages=a,this.currentIndex=0,this.isAnimating=!1,this.btnBack=document.getElementById("btn-back"),this.btnNext=document.getElementById("btn-next"),this.btnStart=document.getElementById("btn-start"),this.dotsContainer=document.getElementById("dots"),this.bottomBar=document.getElementById("bottom-bar"),this._initDots(),this._bindEvents(),this._update()}_initDots(){this.dotsContainer.innerHTML="";for(let a=1;a<this.pages.length;a++){const n=document.createElement("span");n.className="dot",this.dotsContainer.appendChild(n)}}_bindEvents(){this.btnBack.addEventListener("click",()=>this.back()),this.btnNext.addEventListener("click",()=>this.next()),this.btnStart&&this.btnStart.addEventListener("click",n=>{n.stopPropagation(),this.next()});const a=document.getElementById(`page-${this.pages[0]}`);a&&a.addEventListener("click",()=>this.next())}next(){this.isAnimating||this.currentIndex>=this.pages.length-1||this._animateTo(this.currentIndex+1,"forward")}back(){this.isAnimating||this.currentIndex<=0||this._animateTo(this.currentIndex-1,"backward")}_animateTo(a,n){this.isAnimating=!0;const o=document.getElementById(`page-${this.pages[this.currentIndex]}`),r=document.getElementById(`page-${this.pages[a]}`),s=300,f=window.matchMedia("(prefers-reduced-motion: reduce)").matches?10:s;r.style.transition="none",r.style.transform=n==="forward"?"translateX(100%)":"translateX(-100%)",r.classList.add("page-active"),r.offsetHeight;const c=`transform ${s}ms cubic-bezier(0.4, 0, 0.2, 1)`;o.style.transition=c,o.style.transform=n==="forward"?"translateX(-100%)":"translateX(100%)",r.style.transition=c,r.style.transform="translateX(0)",this.currentIndex=a,this._update(),setTimeout(()=>{o.classList.remove("page-active"),o.style.transition="",o.style.transform="",r.style.transition="",r.style.transform="",this.isAnimating=!1},f)}_update(){const a=this.currentIndex===0,n=this.currentIndex===this.pages.length-1;this.bottomBar.classList.toggle("hidden",a),this.btnBack.setAttribute("aria-hidden",String(a)),this.btnNext.setAttribute("aria-hidden",String(n)),this.dotsContainer.querySelectorAll(".dot").forEach((r,s)=>{r.classList.toggle("dot-active",s+1===this.currentIndex)})}}var oe=J();const ce=w(oe);async function de(e="./data.csv"){try{const a=await fetch(e);if(!a.ok)throw new Error(`Fehler beim Laden der CSV-Datei: HTTP ${a.status}`);const n=await a.text();return new Promise((o,r)=>{ce.parse(n,{header:!0,skipEmptyLines:!0,dynamicTyping:!0,complete:s=>{const l=G(s.data);o(l)},error:s=>{r(s)}})})}catch(a){throw console.error("Error loading CSV:",a),a}}function G(e){return{teilA:X(e,["frage_a1","frage_a2","frage_a3","frage_a4","frage_a5","frage_a6","frage_a7"],{min:1,max:5}),teilB:H(e,["frage_b1","frage_b2","frage_b3","frage_b4","frage_b5","frage_b6","frage_b7","frage_b8","frage_b9"]),teilC:H(e,["frage_c1","frage_c2","frage_c4","frage_c5","frage_c6","frage_c7"]),faltstrategieTexte:e.map(a=>({text:String(a.frage_c3||"").replace(/^[„""]|["""]$/g,"").trim(),zugehoerigkeit:a.zugehoerigkeit})).filter(a=>a.text),abschiebsbriefe:e.map(a=>({text:a.abschiedsbrief,zugehoerigkeit:a.zugehoerigkeit})).filter(a=>a.text),zeichnungen:e.map(a=>a.zeichnung_datei).filter(Boolean),teilE:{singleChoice:H(e,["frage_e1","frage_e2","frage_e3"]),likert3:X(e,["frage_e4_1","frage_e4_2","frage_e4_3"],{min:0,max:2})},teilnehmerAnzahl:e.length,rawRows:e}}function ue(e,a){if(!e)return G([]);const n=a==="alle"?e:e.filter(o=>(o.zugehoerigkeit||"").toLowerCase()===a.toLowerCase());return G(n)}function X(e,a,{min:n=1,max:o=5}={}){return a.map(r=>{const s=e.map(u=>u[r]).filter(u=>u!=null&&u!==""&&Number.isFinite(Number(u))&&Number(u)>=n&&Number(u)<=o);if(s.length===0)return{median:null,mean:null};const l=s.map(Number),f=l.reduce((u,h)=>u+h,0)/l.length,c=[...l].sort((u,h)=>u-h),b=Math.floor(c.length/2),y=c.length%2===0?(c[b-1]+c[b])/2:c[b];return{median:Number(y.toFixed(2)),mean:Number(f.toFixed(2))}})}function H(e,a){return a.map(n=>{const o={};let r=0;return e.forEach(s=>{const l=s[n];l!=null&&l!==""&&(o[l]=(o[l]||0)+1,r++)}),Object.entries(o).map(([s,l])=>({option:String(s),count:l,percentage:Number((l/r*100).toFixed(1))})).sort((s,l)=>l.count-s.count)})}const fe=["Ich empfinde eine tiefe Loyalität gegenüber zusammengehörigen Socken.","Der Verlust einer Socke beeinflusst meine emotionale Grundstimmung messbar.","Ich habe schon einmal aktiv nach einer einzelnen Socke gesucht, obwohl die Wahrscheinlichkeit gering war.","Gemusterte Socken vermitteln mir mehr Identitätsstabilität als einfarbige.","Ich glaube, dass Socken im Wäschekorb soziale Bindungen eingehen.","Zwei unterschiedliche Socken zu tragen fühlt sich rebellisch-autonom an.","Das Wegwerfen einer Einzelsocke ist ein Akt innerer Reife."],ge=["Durch die Bearbeitung dieses Fragebogens hat sich meine Perspektive auf meine Beziehung zu Socken verändert.","Ich nehme aktuell eine erhöhte Bewusstheit hinsichtlich textiler Mikroentscheidungen wahr.","Ich gehe davon aus, dass die Auseinandersetzung mit textiler Bindungsdynamik mein zukünftiges Sockenauswahlverhalten beeinflussen wird."],he=["nie","selten","manchmal","oft","immer"];function Y(e,a,n){return e==null?"50%":`${(e-a)/(n-a)*100}%`}function me(e,a,n,o,r){const{scaleMin:s,scaleMax:l,scaleLabels:f,prefix:c}=r,b=document.createElement("div");b.className="visualization-card",b.setAttribute("aria-label",`Frage ${c}${o+1}: ${e}`);const y=a!==null&&n!==null,u=y?Number(a).toFixed(1):"–",h=y?Number(n).toFixed(1):"–",C=y&&Math.abs(a-n)<.4,L=C?"transform: translateY(-36px);":"",p=C?"transform: translateY(-4px);":"",T=Y(a,s,l),t=Y(n,s,l),i=y?`
    <div class="likert-marker median" style="left: ${T}">
      <span class="likert-marker-label" style="${L}" aria-hidden="true">${u}</span>
      <div class="likert-marker-dot" title="Median: ${u}"></div>
    </div>
    <div class="likert-marker mean" style="left: ${t}">
      <span class="likert-marker-label" style="${p}" aria-hidden="true">${h}</span>
      <div class="likert-marker-dot" title="Durchschnitt: ${h}"></div>
    </div>
  `:'<div class="likert-no-data">Daten werden noch erhoben</div>';return b.innerHTML=`
    <div class="visualization-card-index">${c}${o+1}</div>
    <div class="visualization-title">${e}</div>
    <div class="likert-scale" role="img" aria-label="Likert-Skala: Median ${u}, Durchschnitt ${h}">
      <div class="likert-track">
        <div class="likert-ticks">
          ${f.map(()=>'<div class="likert-tick"></div>').join("")}
        </div>
        <div class="likert-markers">
          ${i}
        </div>
      </div>
      <div class="likert-labels" aria-hidden="true">
        ${f.map(d=>`<span>${d}</span>`).join("")}
      </div>
    </div>
    <div class="likert-legend" aria-hidden="true">
      <div class="likert-legend-item">
        <div class="likert-legend-dot median"></div>
        <span>Median: ${u}</span>
      </div>
      <div class="likert-legend-item">
        <div class="likert-legend-dot mean"></div>
        <span>Durchschnitt: ${h}</span>
      </div>
    </div>
  `,b}function pe(e){const a=new IntersectionObserver(n=>{n.forEach(o=>{o.isIntersecting&&(o.target.classList.add("visible"),a.unobserve(o.target))})},{threshold:.12,rootMargin:"0px 0px -40px 0px"});e.forEach(n=>a.observe(n))}function D(e,a,n={}){const{questions:o=fe,scaleMin:r=1,scaleMax:s=5,scaleLabels:l=he,prefix:f="A"}=n,c=document.getElementById(e);if(!c)return;c.innerHTML="";const b=Array.isArray(a)&&a.length>0;o.forEach((u,h)=>{const C=b&&a[h]?a[h]:{median:null,mean:null},L=me(u,C.median,C.mean,h,{scaleMin:r,scaleMax:s,scaleLabels:l,prefix:f});c.appendChild(L)});const y=c.querySelectorAll(".visualization-card");pe(y)}const F=[{title:"In einem Szenario textiler Destabilisierung bevorzuge ich:",options:["Erhalt beider, jedoch perforierter Socken","Vollständige Eliminierung einer einzelnen Socke"]},{title:"Ich priorisiere bei textiler Auswahl:",options:["Maximale visuelle Kongruenz","Maximale individualistische Divergenz"]},{title:"Im Kontext langfristiger Nutzung bewerte ich als bedeutsamer:",options:["Strukturelle Haltbarkeit","Ästhetische Musterkomplexität"]},{title:"Bei drohendem Sockenschwund neige ich eher zu:",options:["Aktiver Suchinitiative","Akzeptanzbasierter Verlustverarbeitung"]},{title:"In Bezug auf textile Paarbildung empfinde ich als zentraler:",options:["Symmetrische Gleichwertigkeit","Funktionale Ergänzung"]},{title:"Bei geringfügiger Asymmetrie reagiere ich überwiegend mit:",options:["Kognitiver Dissonanz","Flexibler Integrationsbereitschaft"]},{title:"Im Falle chronischer Einzelsocken-Situation tendiere ich zu:",options:["Persistierender Hoffnung","Adaptiver Neubildung"]},{title:"Innerhalb der Sockenschublade erachte ich als stabilisierender:",options:["Klare kategoriale Ordnung","Emergente Koexistenz"]},{title:"Bei erhöhtem Stressniveau greife ich überwiegend auf:",options:["Vertrautes Sockenduo","Funktional austauschbare Einheiten"]}],K=[{title:"Welche Sockenlänge präferieren Sie überwiegend im Alltag?",options:["Keine Socken","No-Show-/Invisible-Socken","Knöchellänge","Mittlere Länge (Crew)","Knielang oder darüber","Situationsabhängige Variation"]},{title:"Welche Falt- bzw. Lagerungsstrategie wenden Sie überwiegend an?",options:["Dyadische Überlappungsfaltung","Kompressionsbasierte Bündelung","Lineare Parallelfaltung","Unstrukturierte Ablage"]},{title:"Welche Farbkategorie präferieren Sie bei der Auswahl tragender Socken?",options:["Achromatische Töne","Gedämpfte Chromatik","Helle/kontrastreiche Farben","Situationsabhängige Farbwahl"]},{title:"Wie würden Sie Ihre textile Oberflächenpräferenz beschreiben?",options:["Überwiegend unifarbene Socken","Gelegentlich gemusterte Socken","Überwiegend gemusterte Socken","Muster als primäres Identitätsmerkmal"]},{title:"Inwiefern beobachten Sie eine Veränderung Ihrer affektiven Grundstimmung beim Tragen gemusterter Socken?",options:["Subjektiv wahrnehmbare Stimmungsaufhellung","Erhöhte Selbstwirksamkeits- oder Expressivitätserfahrung","Keine relevante affektive Veränderung","Keine Angabe / Trage keine gemusterten Socken"]},{title:"Inwiefern reagieren Sie auf eine unerwartete Veränderung Ihrer Sockenschubladen- oder Lagerungsstruktur?",options:["Keine subjektiv relevante Reaktion","Kurzfristige Irritation ohne Handlungsimpuls","Wahrnehmbarer Ordnungsimpuls mit Bedürfnis nach Wiederherstellung","Deutliche kognitive oder affektive Dysregulation bis zur unmittelbaren Reorganisation"]}],V=[{title:"Wie beschreiben Sie Ihre aktuelle Gesamtbefindlichkeit?",options:["Unverändert gegenüber dem Ausgangszustand","Leicht positiv aktiviert","Deutlich positiv aktiviert","Leicht irritiert","Deutlich irritiert","Schwer operationalisierbar"]},{title:"Falls Sie eine Veränderung wahrnehmen: Wo im Körper spüren Sie diese primär?",options:["Kopfbereich","Brust-/Herzregion","Bauch-/Abdominalregion","Extremitäten","Keine spezifische Lokalisierung"]},{title:"Hat die Bearbeitung des Fragebogens zu allgemeinen Reflexionen über Ordnung, Verlust oder Paarbildung geführt?",options:["Nein","In geringem Ausmaß","Moderat","Deutlich","In überraschend tiefgreifender Weise"]}];function _(e,a,n){const o=document.getElementById(e);if(!o)return;o.innerHTML="",a.forEach((l,f)=>{if(!l||l.length===0)return;const c=n[f];if(!c)return;const b=be(c.title,l,c.options);o.appendChild(b)});const r=o.querySelectorAll(".visualization-card"),s=new IntersectionObserver(l=>{l.forEach(f=>{f.isIntersecting&&(f.target.classList.add("visible"),f.target.querySelectorAll(".bar-fill").forEach(c=>{c.classList.add("animate")}),s.unobserve(f.target))})},{threshold:.2});r.forEach(l=>s.observe(l))}function be(e,a,n){const o=document.createElement("div");o.className="visualization-card",o.setAttribute("role","region"),o.setAttribute("aria-label",e);const r=a.map(s=>{const l=parseInt(s.option,10),f=n[l]!==void 0?n[l]:`Option ${s.option}`,c=Number(s.percentage).toFixed(1),b=s.percentage>=15;return`
      <div class="bar-chart-item">
        <div class="bar-label">${f}</div>
        <div class="bar-container">
          <div class="bar-fill" style="--bar-width: ${c} %" title="${c} %">
            ${b?`<span class="bar-percentage">${c} %</span>`:""}
          </div>
        </div>
        ${b?"":`<span class="bar-percentage-outside">${c} %</span>`}
      </div>
    `}).join("");return o.innerHTML=`
    <div class="visualization-title">${e}</div>
    <div class="bar-chart">
      ${r}
    </div>
  `,o}function ve({swiper:e,extendParams:a,on:n,emit:o}){const r=ee(),s=te();e.keyboard={enabled:!1},a({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0,speed:void 0}});function l(b){if(!e.enabled)return;const{rtlTranslate:y}=e;let u=b;u.originalEvent&&(u=u.originalEvent);const h=u.keyCode||u.charCode,C=e.params.keyboard.pageUpDown,L=C&&h===33,p=C&&h===34,T=h===37,t=h===39,i=h===38,d=h===40;if(!e.allowSlideNext&&(e.isHorizontal()&&t||e.isVertical()&&d||p)||!e.allowSlidePrev&&(e.isHorizontal()&&T||e.isVertical()&&i||L))return!1;if(u.shiftKey||u.altKey||u.ctrlKey||u.metaKey||r.activeElement&&(r.activeElement.isContentEditable||r.activeElement.nodeName&&(r.activeElement.nodeName.toLowerCase()==="input"||r.activeElement.nodeName.toLowerCase()==="textarea")))return;if(e.params.keyboard.onlyInViewport&&(L||p||T||t||i||d)){let S=!1;if(R(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&R(e.el,`.${e.params.slideActiveClass}`).length===0)return;const I=e.el,M=I.clientWidth,v=I.clientHeight,z=s.innerWidth,x=s.innerHeight,$=ne(I);y&&($.left-=I.scrollLeft);const k=[[$.left,$.top],[$.left+M,$.top],[$.left,$.top+v],[$.left+M,$.top+v]];for(let m=0;m<k.length;m+=1){const E=k[m];if(E[0]>=0&&E[0]<=z&&E[1]>=0&&E[1]<=x){if(E[0]===0&&E[1]===0)continue;S=!0}}if(!S)return}const g=e.params.keyboard.speed;e.isHorizontal()?((L||p||T||t)&&(u.preventDefault?u.preventDefault():u.returnValue=!1),((p||t)&&!y||(L||T)&&y)&&e.slideNext(g),((L||T)&&!y||(p||t)&&y)&&e.slidePrev(g)):((L||p||i||d)&&(u.preventDefault?u.preventDefault():u.returnValue=!1),(p||d)&&e.slideNext(g),(L||i)&&e.slidePrev(g)),o("keyPress",h)}function f(){e.keyboard.enabled||(r.addEventListener("keydown",l),e.keyboard.enabled=!0)}function c(){e.keyboard.enabled&&(r.removeEventListener("keydown",l),e.keyboard.enabled=!1)}n("init",()=>{e.params.keyboard.enabled&&f()}),n("destroy",()=>{e.keyboard.enabled&&c()}),Object.assign(e.keyboard,{enable:f,disable:c})}function ye(e,a,n,o){return e.params.createElements&&Object.keys(o).forEach(r=>{if(!n[r]&&n.auto===!0){let s=ae(e.el,`.${o[r]}`)[0];s||(s=Z("div",o[r]),s.className=o[r],e.el.append(s)),n[r]=s,a[r]=s}}),n}function P(e=""){return`.${e.trim().replace(/([\.:!+\/()[\]#>~*^$|=,'"@{}\\])/g,"\\$1").replace(/ /g,".")}`}function ke({swiper:e,extendParams:a,on:n,emit:o}){const r="swiper-pagination";a({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let s,l=0;function f(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(t,i){const{bulletActiveClass:d}=e.params.pagination;t&&(t=t[`${i==="prev"?"previous":"next"}ElementSibling`],t&&(t.classList.add(`${d}-${i}`),t=t[`${i==="prev"?"previous":"next"}ElementSibling`],t&&t.classList.add(`${d}-${i}-${i}`)))}function b(t,i,d){if(t=t%d,i=i%d,i===t+1)return"next";if(i===t-1)return"previous"}function y(t){const i=t.target.closest(P(e.params.pagination.bulletClass));if(!i)return;t.preventDefault();const d=W(i)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===d)return;const g=b(e.realIndex,d,e.slides.length);g==="next"?e.slideNext():g==="previous"?e.slidePrev():e.slideToLoop(d)}else e.slideTo(d)}function u(){const t=e.rtl,i=e.params.pagination;if(f())return;let d=e.pagination.el;d=A(d);let g,S;const I=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,M=e.params.loop?Math.ceil(I/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(S=e.previousRealIndex||0,g=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(g=e.snapIndex,S=e.previousSnapIndex):(S=e.previousIndex||0,g=e.activeIndex||0),i.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const v=e.pagination.bullets;let z,x,$;if(i.dynamicBullets&&(s=ie(v[0],e.isHorizontal()?"width":"height"),d.forEach(k=>{k.style[e.isHorizontal()?"width":"height"]=`${s*(i.dynamicMainBullets+4)}px`}),i.dynamicMainBullets>1&&S!==void 0&&(l+=g-(S||0),l>i.dynamicMainBullets-1?l=i.dynamicMainBullets-1:l<0&&(l=0)),z=Math.max(g-l,0),x=z+(Math.min(v.length,i.dynamicMainBullets)-1),$=(x+z)/2),v.forEach(k=>{const m=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(E=>`${i.bulletActiveClass}${E}`)].map(E=>typeof E=="string"&&E.includes(" ")?E.split(" "):E).flat();k.classList.remove(...m)}),d.length>1)v.forEach(k=>{const m=W(k);m===g?k.classList.add(...i.bulletActiveClass.split(" ")):e.isElement&&k.setAttribute("part","bullet"),i.dynamicBullets&&(m>=z&&m<=x&&k.classList.add(...`${i.bulletActiveClass}-main`.split(" ")),m===z&&c(k,"prev"),m===x&&c(k,"next"))});else{const k=v[g];if(k&&k.classList.add(...i.bulletActiveClass.split(" ")),e.isElement&&v.forEach((m,E)=>{m.setAttribute("part",E===g?"bullet-active":"bullet")}),i.dynamicBullets){const m=v[z],E=v[x];for(let B=z;B<=x;B+=1)v[B]&&v[B].classList.add(...`${i.bulletActiveClass}-main`.split(" "));c(m,"prev"),c(E,"next")}}if(i.dynamicBullets){const k=Math.min(v.length,i.dynamicMainBullets+4),m=(s*k-s)/2-$*s,E=t?"right":"left";v.forEach(B=>{B.style[e.isHorizontal()?E:"top"]=`${m}px`})}}d.forEach((v,z)=>{if(i.type==="fraction"&&(v.querySelectorAll(P(i.currentClass)).forEach(x=>{x.textContent=i.formatFractionCurrent(g+1)}),v.querySelectorAll(P(i.totalClass)).forEach(x=>{x.textContent=i.formatFractionTotal(M)})),i.type==="progressbar"){let x;i.progressbarOpposite?x=e.isHorizontal()?"vertical":"horizontal":x=e.isHorizontal()?"horizontal":"vertical";const $=(g+1)/M;let k=1,m=1;x==="horizontal"?k=$:m=$,v.querySelectorAll(P(i.progressbarFillClass)).forEach(E=>{E.style.transform=`translate3d(0,0,0) scaleX(${k}) scaleY(${m})`,E.style.transitionDuration=`${e.params.speed}ms`})}i.type==="custom"&&i.renderCustom?(U(v,i.renderCustom(e,g+1,M)),z===0&&o("paginationRender",v)):(z===0&&o("paginationRender",v),o("paginationUpdate",v)),e.params.watchOverflow&&e.enabled&&v.classList[e.isLocked?"add":"remove"](i.lockClass)})}function h(){const t=e.params.pagination;if(f())return;const i=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let d=e.pagination.el;d=A(d);let g="";if(t.type==="bullets"){let S=e.params.loop?Math.ceil(i/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&S>i&&(S=i);for(let I=0;I<S;I+=1)t.renderBullet?g+=t.renderBullet.call(e,I,t.bulletClass):g+=`<${t.bulletElement} ${e.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}t.type==="fraction"&&(t.renderFraction?g=t.renderFraction.call(e,t.currentClass,t.totalClass):g=`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),t.type==="progressbar"&&(t.renderProgressbar?g=t.renderProgressbar.call(e,t.progressbarFillClass):g=`<span class="${t.progressbarFillClass}"></span>`),e.pagination.bullets=[],d.forEach(S=>{t.type!=="custom"&&U(S,g||""),t.type==="bullets"&&e.pagination.bullets.push(...S.querySelectorAll(P(t.bulletClass)))}),t.type!=="custom"&&o("paginationRender",d[0])}function C(){e.params.pagination=ye(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let i;typeof t.el=="string"&&e.isElement&&(i=e.el.querySelector(t.el)),!i&&typeof t.el=="string"&&(i=[...document.querySelectorAll(t.el)]),i||(i=t.el),!(!i||i.length===0)&&(e.params.uniqueNavElements&&typeof t.el=="string"&&Array.isArray(i)&&i.length>1&&(i=[...e.el.querySelectorAll(t.el)],i.length>1&&(i=i.find(d=>R(d,".swiper")[0]===e.el))),Array.isArray(i)&&i.length===1&&(i=i[0]),Object.assign(e.pagination,{el:i}),i=A(i),i.forEach(d=>{t.type==="bullets"&&t.clickable&&d.classList.add(...(t.clickableClass||"").split(" ")),d.classList.add(t.modifierClass+t.type),d.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.type==="bullets"&&t.dynamicBullets&&(d.classList.add(`${t.modifierClass}${t.type}-dynamic`),l=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),t.type==="progressbar"&&t.progressbarOpposite&&d.classList.add(t.progressbarOppositeClass),t.clickable&&d.addEventListener("click",y),e.enabled||d.classList.add(t.lockClass)}))}function L(){const t=e.params.pagination;if(f())return;let i=e.pagination.el;i&&(i=A(i),i.forEach(d=>{d.classList.remove(t.hiddenClass),d.classList.remove(t.modifierClass+t.type),d.classList.remove(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(d.classList.remove(...(t.clickableClass||"").split(" ")),d.removeEventListener("click",y))})),e.pagination.bullets&&e.pagination.bullets.forEach(d=>d.classList.remove(...t.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const t=e.params.pagination;let{el:i}=e.pagination;i=A(i),i.forEach(d=>{d.classList.remove(t.horizontalClass,t.verticalClass),d.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)})}),n("init",()=>{e.params.pagination.enabled===!1?T():(C(),h(),u())}),n("activeIndexChange",()=>{typeof e.snapIndex>"u"&&u()}),n("snapIndexChange",()=>{u()}),n("snapGridLengthChange",()=>{h(),u()}),n("destroy",()=>{L()}),n("enable disable",()=>{let{el:t}=e.pagination;t&&(t=A(t),t.forEach(i=>i.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),n("lock unlock",()=>{u()}),n("click",(t,i)=>{const d=i.target,g=A(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&g&&g.length>0&&!d.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&d===e.navigation.nextEl||e.navigation.prevEl&&d===e.navigation.prevEl))return;const S=g[0].classList.contains(e.params.pagination.hiddenClass);o(S===!0?"paginationShow":"paginationHide"),g.forEach(I=>I.classList.toggle(e.params.pagination.hiddenClass))}});const p=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=A(t),t.forEach(i=>i.classList.remove(e.params.pagination.paginationDisabledClass))),C(),h(),u()},T=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=A(t),t.forEach(i=>i.classList.add(e.params.pagination.paginationDisabledClass))),L()};Object.assign(e.pagination,{enable:p,disable:T,render:h,update:u,init:C,destroy:L})}function Ee(e){const{effect:a,swiper:n,on:o,setTranslate:r,setTransition:s,overwriteParams:l,perspective:f,recreateShadows:c,getEffectParams:b}=e;o("beforeInit",()=>{if(n.params.effect!==a)return;n.classNames.push(`${n.params.containerModifierClass}${a}`),f&&f()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const u=l?l():{};Object.assign(n.params,u),Object.assign(n.originalParams,u)}),o("setTranslate _virtualUpdated",()=>{n.params.effect===a&&r()}),o("setTransition",(u,h)=>{n.params.effect===a&&s(h)}),o("transitionEnd",()=>{if(n.params.effect===a&&c){if(!b||!b().slideShadows)return;n.slides.forEach(u=>{u.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(h=>h.remove())}),c()}});let y;o("virtualUpdate",()=>{n.params.effect===a&&(n.slides.length||(y=!0),requestAnimationFrame(()=>{y&&n.slides&&n.slides.length&&(r(),y=!1)}))})}function Se(e,a){const n=j(a);return n!==a&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function Ce({swiper:e,duration:a,transformElements:n,allSlides:o}){const{activeIndex:r}=e,s=l=>l.parentElement?l.parentElement:e.slides.find(c=>c.shadowRoot&&c.shadowRoot===l.parentNode);if(e.params.virtualTranslate&&a!==0){let l=!1,f;o?f=n:f=n.filter(c=>{const b=c.classList.contains("swiper-slide-transform")?s(c):c;return e.getSlideIndex(b)===r}),f.forEach(c=>{se(c,()=>{if(l||!e||e.destroyed)return;l=!0,e.animating=!1;const b=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(b)})})}}function Le(e,a,n){const o=`swiper-slide-shadow${` swiper-slide-shadow-${e}`}`,r=j(a);let s=r.querySelector(`.${o.split(" ").join(".")}`);return s||(s=Z("div",o.split(" ")),r.append(s)),s}function xe({swiper:e,extendParams:a,on:n}){a({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),Ee({effect:"cards",swiper:e,on:n,setTranslate:()=>{const{slides:s,activeIndex:l,rtlTranslate:f}=e,c=e.params.cardsEffect,{startTranslate:b,isTouched:y}=e.touchEventsData,u=f?-e.translate:e.translate;for(let h=0;h<s.length;h+=1){const C=s[h],L=C.progress,p=Math.min(Math.max(L,-4),4);let T=C.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(T-=s[0].swiperSlideOffset);let t=e.params.cssMode?-T-e.translate:-T,i=0;const d=-100*Math.abs(p);let g=1,S=-c.perSlideRotate*p,I=c.perSlideOffset-Math.abs(p)*.75;const M=e.virtual&&e.params.virtual.enabled?e.virtual.from+h:h,v=(M===l||M===l-1)&&p>0&&p<1&&(y||e.params.cssMode)&&u<b,z=(M===l||M===l+1)&&p<0&&p>-1&&(y||e.params.cssMode)&&u>b;if(v||z){const m=(1-Math.abs((Math.abs(p)-.5)/.5))**.5;S+=-28*p*m,g+=-.5*m,I+=96*m,i=`${(c.rotate||e.isHorizontal()?-25:0)*m*Math.abs(p)}%`}if(p<0?t=`calc(${t}px ${f?"-":"+"} (${I*Math.abs(p)}%))`:p>0?t=`calc(${t}px ${f?"-":"+"} (-${I*Math.abs(p)}%))`:t=`${t}px`,!e.isHorizontal()){const m=i;i=t,t=m}const x=p<0?`${1+(1-g)*p}`:`${1-(1-g)*p}`,$=`
        translate3d(${t}, ${i}, ${d}px)
        rotateZ(${c.rotate?f?-S:S:0}deg)
        scale(${x})
      `;if(c.slideShadows){let m=C.querySelector(".swiper-slide-shadow");m||(m=Le("cards",C)),m&&(m.style.opacity=Math.min(Math.max((Math.abs(p)-.5)/.5,0),1))}C.style.zIndex=-Math.abs(Math.round(L))+s.length;const k=Se(c,C);k.style.transform=$}},setTransition:s=>{const l=e.slides.map(f=>j(f));l.forEach(f=>{f.style.transitionDuration=`${s}ms`,f.querySelectorAll(".swiper-slide-shadow").forEach(c=>{c.style.transitionDuration=`${s}ms`})}),Ce({swiper:e,duration:s,transformElements:l})},perspective:()=>!0,overwriteParams:()=>({_loopSwapReset:!1,watchSlidesProgress:!0,loopAdditionalSlides:e.params.cardsEffect.rotate?3:2,centeredSlides:!0,virtualTranslate:!e.params.cssMode})})}function Q(e,a){const n=document.getElementById(e);if(!n)return;if(!a||a.length===0){n.innerHTML='<div class="slideshow-empty">Keine Zeichnungen verfügbar</div>';return}const o=a.map(r=>`
    <div class="swiper-slide">
      <img src="/drawings/${encodeURIComponent(r)}" alt="Teilnehmer Zeichnung" loading="lazy">
    </div>
  `).join("");n.innerHTML=`
    <div class="swiper polaroid-swiper">
      <div class="swiper-wrapper">
        ${o}
      </div>
      <div class="swiper-pagination"></div>
    </div>
    <p class="swipe-hint">← wischen →</p>
  `,new re(n.querySelector(".swiper"),{modules:[xe,ke,ve],effect:"cards",grabCursor:!0,pagination:{el:n.querySelector(".swiper-pagination"),type:"fraction"},keyboard:{enabled:!0}})}function O(e,a){const n=document.getElementById(e);if(!n)return;if(!a||a.length===0){n.innerHTML='<div class="text-list-empty">Keine Einträge vorhanden</div>';return}n.innerHTML="",a.forEach(s=>{const l=typeof s=="string"?s:s.text,f=typeof s=="string"?null:s.zugehoerigkeit,c=$e(l,f);n.appendChild(c)});const o=n.querySelectorAll(".text-card"),r=new IntersectionObserver(s=>{s.forEach(l=>{l.isIntersecting&&(l.target.classList.add("visible"),r.unobserve(l.target))})},{threshold:.1});o.forEach(s=>r.observe(s))}function $e(e,a){const n=document.createElement("div");n.className="text-card",n.setAttribute("role","article");const o=document.createElement("span");o.textContent=e;const r=o.innerHTML;let s;const l=(a||"").toLowerCase();return l==="personal"?s="Therapeutisches Teammitglied":l==="patienten"?s="Patient":s="Teilnehmer",n.innerHTML=`
    <div class="text-card-content">„${r}"</div>
    <div class="text-card-author">— ${s}</div>
  `,n}const Ie=["start","teil-a","teil-b","teil-c","teil-d","teil-e","danke"],q={questions:ge,scaleMin:0,scaleMax:2,scaleLabels:["Trifft nicht zu","neutral","Trifft zu"],prefix:"E4."};document.addEventListener("DOMContentLoaded",async()=>{new le(Ie),document.getElementById("btn-pdf-download")?.addEventListener("click",()=>window.print()),document.body.classList.add("loading-data");try{const e=await de(),a=e.rawRows;D("teil-a-content",e.teilA),_("teil-b-content",e.teilB,F),_("teil-c-content",e.teilC,K),O("faltstrategien-content",e.faltstrategieTexte),O("abschiebsbriefe-content",e.abschiebsbriefe),Q("slideshow-container",e.zeichnungen),_("teil-e-single-content",e.teilE.singleChoice,V),D("teil-e-likert-content",e.teilE.likert3,q),N("teil-a",a,n=>{D("teil-a-content",n.teilA)}),N("teil-b",a,n=>{_("teil-b-content",n.teilB,F)}),N("teil-c",a,n=>{_("teil-c-content",n.teilC,K),O("faltstrategien-content",n.faltstrategieTexte)}),N("teil-e",a,n=>{_("teil-e-single-content",n.teilE.singleChoice,V),D("teil-e-likert-content",n.teilE.likert3,q)})}catch(e){console.error("Failed to load data:",e),D("teil-a-content",[]),_("teil-b-content",[],F),_("teil-c-content",[],K),O("faltstrategien-content",[]),O("abschiebsbriefe-content",[]),Q("slideshow-container",[]),_("teil-e-single-content",[],V),D("teil-e-likert-content",[],q)}finally{document.body.classList.remove("loading-data")}});function N(e,a,n){const o=document.getElementById(`page-${e}`);if(!o)return;const r=o.querySelectorAll(".filter-btn");r.forEach(s=>{s.addEventListener("click",()=>{r.forEach(f=>f.classList.remove("active")),s.classList.add("active");const l=ue(a,s.dataset.filter);n(l)})})}
