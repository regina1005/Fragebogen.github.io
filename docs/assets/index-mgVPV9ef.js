import{r as X,g as Z}from"./vendor-Czn-76cG.js";import{g as Y,a as Q,e as O,b as J,c as w,d as ee,m as L,s as N,f as te,h as H,S as ne}from"./swiper-p41K8LZR.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=i(a);fetch(a.href,s)}})();class ae{constructor(l){this.pages=l,this.currentIndex=0,this.isAnimating=!1,this.btnBack=document.getElementById("btn-back"),this.btnNext=document.getElementById("btn-next"),this.btnStart=document.getElementById("btn-start"),this.dotsContainer=document.getElementById("dots"),this.bottomBar=document.getElementById("bottom-bar"),this._initDots(),this._bindEvents(),this._update()}_initDots(){this.dotsContainer.innerHTML="";for(let l=1;l<this.pages.length;l++){const i=document.createElement("span");i.className="dot",this.dotsContainer.appendChild(i)}}_bindEvents(){this.btnBack.addEventListener("click",()=>this.back()),this.btnNext.addEventListener("click",()=>this.next()),this.btnStart&&this.btnStart.addEventListener("click",i=>{i.stopPropagation(),this.next()});const l=document.getElementById(`page-${this.pages[0]}`);l&&l.addEventListener("click",()=>this.next())}next(){this.isAnimating||this.currentIndex>=this.pages.length-1||this._animateTo(this.currentIndex+1,"forward")}back(){this.isAnimating||this.currentIndex<=0||this._animateTo(this.currentIndex-1,"backward")}_animateTo(l,i){this.isAnimating=!0;const r=document.getElementById(`page-${this.pages[this.currentIndex]}`),a=document.getElementById(`page-${this.pages[l]}`),s=300,p=window.matchMedia("(prefers-reduced-motion: reduce)").matches?10:s;a.style.transition="none",a.style.transform=i==="forward"?"translateX(100%)":"translateX(-100%)",a.classList.add("page-active"),a.offsetHeight;const g=`transform ${s}ms cubic-bezier(0.4, 0, 0.2, 1)`;r.style.transition=g,r.style.transform=i==="forward"?"translateX(-100%)":"translateX(100%)",a.style.transition=g,a.style.transform="translateX(0)",this.currentIndex=l,this._update(),setTimeout(()=>{r.classList.remove("page-active"),r.style.transition="",r.style.transform="",a.style.transition="",a.style.transform="",this.isAnimating=!1},p)}_update(){const l=this.currentIndex===0,i=this.currentIndex===this.pages.length-1;this.bottomBar.classList.toggle("hidden",l),this.btnBack.setAttribute("aria-hidden",String(l)),this.btnNext.setAttribute("aria-hidden",String(i)),this.dotsContainer.querySelectorAll(".dot").forEach((a,s)=>{a.classList.toggle("dot-active",s+1===this.currentIndex)})}}var ie=X();const se=Z(ie);async function le(e="/data.csv"){try{const l=await fetch(e);if(!l.ok)throw new Error(`Fehler beim Laden der CSV-Datei: HTTP ${l.status}`);const i=await l.text();return new Promise((r,a)=>{se.parse(i,{header:!0,skipEmptyLines:!0,dynamicTyping:!0,complete:s=>{const o=re(s.data);r(o)},error:s=>{a(s)}})})}catch(l){throw console.error("Error loading CSV:",l),l}}function re(e){return{teilA:oe(e,["frage_a1","frage_a2","frage_a3","frage_a4","frage_a5","frage_a6","frage_a7"]),teilB:P(e,["frage_b1","frage_b2","frage_b3","frage_b4","frage_b5","frage_b6","frage_b7","frage_b8","frage_b9"]),teilC:P(e,["frage_c1","frage_c2","frage_c3","frage_c4","frage_c5","frage_c6","frage_c7"]),abschiebsbriefe:e.map(l=>l.abschiedsbrief).filter(Boolean),zeichnungen:e.map(l=>l.zeichnung_datei).filter(Boolean),teilnehmerAnzahl:e.length}}function oe(e,l){return l.map(i=>{const r=e.map(g=>g[i]).filter(g=>g!=null&&g>=1&&g<=5);if(r.length===0)return{median:0,mean:0};const a=r.reduce((g,C)=>g+C,0)/r.length,s=[...r].sort((g,C)=>g-C),o=Math.floor(s.length/2),p=s.length%2===0?(s[o-1]+s[o])/2:s[o];return{median:Number(p.toFixed(2)),mean:Number(a.toFixed(2))}})}function P(e,l){return l.map(i=>{const r={};let a=0;return e.forEach(s=>{const o=s[i];o!=null&&(r[o]=(r[o]||0)+1,a++)}),Object.entries(r).map(([s,o])=>({option:String(s),count:o,percentage:Number((o/a*100).toFixed(1))})).sort((s,o)=>o.count-s.count)})}const ce=["Ich empfinde eine tiefe Loyalität gegenüber zusammengehörigen Socken.","Der Verlust einer Socke beeinflusst meine emotionale Grundstimmung messbar.","Ich habe schon einmal aktiv nach einer einzelnen Socke gesucht, obwohl die Wahrscheinlichkeit gering war.","Gemusterte Socken vermitteln mir mehr Identitätsstabilität als einfarbige.","Ich glaube, dass Socken im Wäschekorb soziale Bindungen eingehen.","Zwei unterschiedliche Socken zu tragen fühlt sich rebellisch-autonom an.","Das Wegwerfen einer Einzelsocke ist ein Akt innerer Reife."],F=["nie","selten","manchmal","oft","immer"];function q(e){return`${(e-1)/4*100}%`}function de(e,l,i,r){const a=document.createElement("div");a.className="visualization-card",a.setAttribute("aria-label",`Frage A${r+1}: ${e}`);const s=Number(l).toFixed(1),o=Number(i).toFixed(1),p=Math.abs(l-i)<.4,g=p?"transform: translateY(-36px);":"",C=p?"transform: translateY(-4px);":"";return a.innerHTML=`
    <div class="visualization-card-index">A${r+1}</div>
    <div class="visualization-title">${e}</div>
    <div class="likert-scale" role="img" aria-label="Likert-Skala: Median ${s}, Durchschnitt ${o}">
      <div class="likert-track">
        <div class="likert-ticks">
          ${F.map(()=>'<div class="likert-tick"></div>').join("")}
        </div>
        <div class="likert-markers">
          <div class="likert-marker median" style="left: ${q(l)}">
            <span class="likert-marker-label" style="${g}" aria-hidden="true">${s}</span>
            <div class="likert-marker-dot" title="Median: ${s}"></div>
          </div>
          <div class="likert-marker mean" style="left: ${q(i)}">
            <span class="likert-marker-label" style="${C}" aria-hidden="true">${o}</span>
            <div class="likert-marker-dot" title="Durchschnitt: ${o}"></div>
          </div>
        </div>
      </div>
      <div class="likert-labels" aria-hidden="true">
        ${F.map(A=>`<span>${A}</span>`).join("")}
      </div>
    </div>
    <div class="likert-legend" aria-hidden="true">
      <div class="likert-legend-item">
        <div class="likert-legend-dot median"></div>
        <span>Median: ${s}</span>
      </div>
      <div class="likert-legend-item">
        <div class="likert-legend-dot mean"></div>
        <span>Durchschnitt: ${o}</span>
      </div>
    </div>
  `,a}function ue(e){const l=new IntersectionObserver(i=>{i.forEach(r=>{r.isIntersecting&&(r.target.classList.add("visible"),l.unobserve(r.target))})},{threshold:.12,rootMargin:"0px 0px -40px 0px"});e.forEach(i=>l.observe(i))}function K(e,l){const i=document.getElementById(e);if(!i)return;i.innerHTML="";const r=Array.isArray(l)&&l.length>0;ce.forEach((s,o)=>{const{median:p,mean:g}=r&&l[o]?l[o]:{median:0,mean:0},C=de(s,p,g,o);i.appendChild(C)});const a=i.querySelectorAll(".visualization-card");ue(a)}const V=[{title:"In einem Szenario textiler Destabilisierung bevorzuge ich:",options:["Erhalt beider, jedoch perforierter Socken","Vollständige Eliminierung einer einzelnen Socke"]},{title:"Ich priorisiere bei textiler Auswahl:",options:["Maximale visuelle Kongruenz","Maximale individualistische Divergenz"]},{title:"Im Kontext langfristiger Nutzung bewerte ich als bedeutsamer:",options:["Strukturelle Haltbarkeit","Ästhetische Musterkomplexität"]},{title:"Bei drohendem Sockenschwund neige ich eher zu:",options:["Aktiver Suchinitiative","Akzeptanzbasierter Verlustverarbeitung"]},{title:"In Bezug auf textile Paarbildung empfinde ich als zentraler:",options:["Symmetrische Gleichwertigkeit","Funktionale Ergänzung"]},{title:"Bei geringfügiger Asymmetrie reagiere ich überwiegend mit:",options:["Kognitiver Dissonanz","Flexibler Integrationsbereitschaft"]},{title:"Im Falle chronischer Einzelsocken-Situation tendiere ich zu:",options:["Persistierender Hoffnung","Adaptiver Neubildung"]},{title:"Innerhalb der Sockenschublade erachte ich als stabilisierender:",options:["Klare kategoriale Ordnung","Emergente Koexistenz"]},{title:"Bei erhöhtem Stressniveau greife ich überwiegend auf:",options:["Vertrautes Sockenduo","Funktional austauschbare Einheiten"]}],G=[{title:"Bevorzugte Sockenlänge:",options:["Keine Socken","No-Show","Knöchellänge","Mittlere Länge","Knielang","Situationsabhängig"]},{title:"Falt-/Lagerungsstrategie:",options:["Überlappungsfaltung","Kompressionsbasierte Bündelung","Lineare Parallelfaltung","Unstrukturierte Ablage"]},{title:"Farbkategorie:",options:["Achromatische Töne","Gedämpfte Chromatik","Helle/kontrastreiche Farben","Situationsabhängig"]},{title:"Textile Oberflächenpräferenz:",options:["Überwiegend unifarben","Gelegentlich gemustert","Überwiegend gemustert","Muster als Identitätsmerkmal"]},{title:"Affektive Veränderung bei gemusterten Socken:",options:["Stimmungsaufhellung","Erhöhte Selbstwirksamkeit","Keine Veränderung","Keine Angabe"]},{title:"Reaktion auf veränderte Sockenschublade:",options:["Keine Reaktion","Kurzfristige Irritation","Wahrnehmbarer Ordnungsimpuls","Deutliche Dysregulation"]},{title:"Häufigkeit des Tragens identischer Socken an aufeinanderfolgenden Tagen:",options:["Nie","Selten","Gelegentlich","Regelmäßig","Immer"]}];function _(e,l,i){const r=document.getElementById(e);if(!r)return;r.innerHTML="",l.forEach((o,p)=>{if(!o||o.length===0)return;const g=i[p];if(!g)return;const C=ge(g.title,o,g.options);r.appendChild(C)});const a=r.querySelectorAll(".visualization-card"),s=new IntersectionObserver(o=>{o.forEach(p=>{p.isIntersecting&&(p.target.classList.add("visible"),p.target.querySelectorAll(".bar-fill").forEach(g=>{g.classList.add("animate")}),s.unobserve(p.target))})},{threshold:.2});a.forEach(o=>s.observe(o))}function ge(e,l,i){const r=document.createElement("div");r.className="visualization-card",r.setAttribute("role","region"),r.setAttribute("aria-label",e);const a=l.map(s=>{const o=parseInt(s.option,10),p=i[o]!==void 0?i[o]:`Option ${s.option}`,g=Number(s.percentage).toFixed(1),C=s.percentage>=15;return`
      <div class="bar-chart-item">
        <div class="bar-label">${p}</div>
        <div class="bar-container">
          <div class="bar-fill" style="--bar-width: ${g}%" title="${g}%">
            ${C?`<span class="bar-percentage">${g}%</span>`:""}
          </div>
        </div>
        ${C?"":`<span class="bar-percentage-outside">${g}%</span>`}
      </div>
    `}).join("");return r.innerHTML=`
    <div class="visualization-title">${e}</div>
    <div class="bar-chart">
      ${a}
    </div>
  `,r}function fe({swiper:e,extendParams:l,on:i,emit:r}){const a=Y(),s=Q();e.keyboard={enabled:!1},l({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0,speed:void 0}});function o(C){if(!e.enabled)return;const{rtlTranslate:A}=e;let v=C;v.originalEvent&&(v=v.originalEvent);const $=v.keyCode||v.charCode,u=e.params.keyboard.pageUpDown,d=u&&$===33,m=u&&$===34,h=$===37,t=$===39,n=$===38,c=$===40;if(!e.allowSlideNext&&(e.isHorizontal()&&t||e.isVertical()&&c||m)||!e.allowSlidePrev&&(e.isHorizontal()&&h||e.isVertical()&&n||d))return!1;if(v.shiftKey||v.altKey||v.ctrlKey||v.metaKey||a.activeElement&&(a.activeElement.isContentEditable||a.activeElement.nodeName&&(a.activeElement.nodeName.toLowerCase()==="input"||a.activeElement.nodeName.toLowerCase()==="textarea")))return;if(e.params.keyboard.onlyInViewport&&(d||m||h||t||n||c)){let x=!1;if(O(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&O(e.el,`.${e.params.slideActiveClass}`).length===0)return;const B=e.el,M=B.clientWidth,b=B.clientHeight,z=s.innerWidth,S=s.innerHeight,I=J(B);A&&(I.left-=B.scrollLeft);const k=[[I.left,I.top],[I.left+M,I.top],[I.left,I.top+b],[I.left+M,I.top+b]];for(let E=0;E<k.length;E+=1){const y=k[E];if(y[0]>=0&&y[0]<=z&&y[1]>=0&&y[1]<=S){if(y[0]===0&&y[1]===0)continue;x=!0}}if(!x)return}const f=e.params.keyboard.speed;e.isHorizontal()?((d||m||h||t)&&(v.preventDefault?v.preventDefault():v.returnValue=!1),((m||t)&&!A||(d||h)&&A)&&e.slideNext(f),((d||h)&&!A||(m||t)&&A)&&e.slidePrev(f)):((d||m||n||c)&&(v.preventDefault?v.preventDefault():v.returnValue=!1),(m||c)&&e.slideNext(f),(d||n)&&e.slidePrev(f)),r("keyPress",$)}function p(){e.keyboard.enabled||(a.addEventListener("keydown",o),e.keyboard.enabled=!0)}function g(){e.keyboard.enabled&&(a.removeEventListener("keydown",o),e.keyboard.enabled=!1)}i("init",()=>{e.params.keyboard.enabled&&p()}),i("destroy",()=>{e.keyboard.enabled&&g()}),Object.assign(e.keyboard,{enable:p,disable:g})}function W(e,l,i,r){return e.params.createElements&&Object.keys(r).forEach(a=>{if(!i[a]&&i.auto===!0){let s=w(e.el,`.${r[a]}`)[0];s||(s=ee("div",r[a]),s.className=r[a],e.el.append(s)),i[a]=s,l[a]=s}}),i}const j='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function me({swiper:e,extendParams:l,on:i,emit:r}){l({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null,arrowSvg:j};function a(u){let d;return u&&typeof u=="string"&&e.isElement&&(d=e.el.querySelector(u)||e.hostEl.querySelector(u),d)?d:(u&&(typeof u=="string"&&(d=[...document.querySelectorAll(u)]),e.params.uniqueNavElements&&typeof u=="string"&&d&&d.length>1&&e.el.querySelectorAll(u).length===1?d=e.el.querySelector(u):d&&d.length===1&&(d=d[0])),u&&!d?u:d)}function s(u,d){const m=e.params.navigation;u=L(u),u.forEach(h=>{h&&(h.classList[d?"add":"remove"](...m.disabledClass.split(" ")),h.tagName==="BUTTON"&&(h.disabled=d),e.params.watchOverflow&&e.enabled&&h.classList[e.isLocked?"add":"remove"](m.lockClass))})}function o(){const{nextEl:u,prevEl:d}=e.navigation;if(e.params.loop){s(d,!1),s(u,!1);return}s(d,e.isBeginning&&!e.params.rewind),s(u,e.isEnd&&!e.params.rewind)}function p(u){u.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function g(u){u.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function C(){const u=e.params.navigation;if(e.params.navigation=W(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(u.nextEl||u.prevEl))return;let d=a(u.nextEl),m=a(u.prevEl);Object.assign(e.navigation,{nextEl:d,prevEl:m}),d=L(d),m=L(m);const h=(t,n)=>{if(t){if(u.addIcons&&t.matches(".swiper-button-next,.swiper-button-prev")&&!t.querySelector("svg")){const c=document.createElement("div");N(c,j),t.appendChild(c.querySelector("svg")),c.remove()}t.addEventListener("click",n==="next"?g:p)}!e.enabled&&t&&t.classList.add(...u.lockClass.split(" "))};d.forEach(t=>h(t,"next")),m.forEach(t=>h(t,"prev"))}function A(){let{nextEl:u,prevEl:d}=e.navigation;u=L(u),d=L(d);const m=(h,t)=>{h.removeEventListener("click",t==="next"?g:p),h.classList.remove(...e.params.navigation.disabledClass.split(" "))};u.forEach(h=>m(h,"next")),d.forEach(h=>m(h,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?$():(C(),o())}),i("toEdge fromEdge lock unlock",()=>{o()}),i("destroy",()=>{A()}),i("enable disable",()=>{let{nextEl:u,prevEl:d}=e.navigation;if(u=L(u),d=L(d),e.enabled){o();return}[...u,...d].filter(m=>!!m).forEach(m=>m.classList.add(e.params.navigation.lockClass))}),i("click",(u,d)=>{let{nextEl:m,prevEl:h}=e.navigation;m=L(m),h=L(h);const t=d.target;let n=h.includes(t)||m.includes(t);if(e.isElement&&!n){const c=d.path||d.composedPath&&d.composedPath();c&&(n=c.find(f=>m.includes(f)||h.includes(f)))}if(e.params.navigation.hideOnClick&&!n){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===t||e.pagination.el.contains(t)))return;let c;m.length?c=m[0].classList.contains(e.params.navigation.hiddenClass):h.length&&(c=h[0].classList.contains(e.params.navigation.hiddenClass)),r(c===!0?"navigationShow":"navigationHide"),[...m,...h].filter(f=>!!f).forEach(f=>f.classList.toggle(e.params.navigation.hiddenClass))}});const v=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),C(),o()},$=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),A()};Object.assign(e.navigation,{enable:v,disable:$,update:o,init:C,destroy:A})}function T(e=""){return`.${e.trim().replace(/([\.:!+\/()[\]#>~*^$|=,'"@{}\\])/g,"\\$1").replace(/ /g,".")}`}function he({swiper:e,extendParams:l,on:i,emit:r}){const a="swiper-pagination";l({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let s,o=0;function p(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function g(t,n){const{bulletActiveClass:c}=e.params.pagination;t&&(t=t[`${n==="prev"?"previous":"next"}ElementSibling`],t&&(t.classList.add(`${c}-${n}`),t=t[`${n==="prev"?"previous":"next"}ElementSibling`],t&&t.classList.add(`${c}-${n}-${n}`)))}function C(t,n,c){if(t=t%c,n=n%c,n===t+1)return"next";if(n===t-1)return"previous"}function A(t){const n=t.target.closest(T(e.params.pagination.bulletClass));if(!n)return;t.preventDefault();const c=H(n)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===c)return;const f=C(e.realIndex,c,e.slides.length);f==="next"?e.slideNext():f==="previous"?e.slidePrev():e.slideToLoop(c)}else e.slideTo(c)}function v(){const t=e.rtl,n=e.params.pagination;if(p())return;let c=e.pagination.el;c=L(c);let f,x;const B=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,M=e.params.loop?Math.ceil(B/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(x=e.previousRealIndex||0,f=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(f=e.snapIndex,x=e.previousSnapIndex):(x=e.previousIndex||0,f=e.activeIndex||0),n.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const b=e.pagination.bullets;let z,S,I;if(n.dynamicBullets&&(s=te(b[0],e.isHorizontal()?"width":"height"),c.forEach(k=>{k.style[e.isHorizontal()?"width":"height"]=`${s*(n.dynamicMainBullets+4)}px`}),n.dynamicMainBullets>1&&x!==void 0&&(o+=f-(x||0),o>n.dynamicMainBullets-1?o=n.dynamicMainBullets-1:o<0&&(o=0)),z=Math.max(f-o,0),S=z+(Math.min(b.length,n.dynamicMainBullets)-1),I=(S+z)/2),b.forEach(k=>{const E=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(y=>`${n.bulletActiveClass}${y}`)].map(y=>typeof y=="string"&&y.includes(" ")?y.split(" "):y).flat();k.classList.remove(...E)}),c.length>1)b.forEach(k=>{const E=H(k);E===f?k.classList.add(...n.bulletActiveClass.split(" ")):e.isElement&&k.setAttribute("part","bullet"),n.dynamicBullets&&(E>=z&&E<=S&&k.classList.add(...`${n.bulletActiveClass}-main`.split(" ")),E===z&&g(k,"prev"),E===S&&g(k,"next"))});else{const k=b[f];if(k&&k.classList.add(...n.bulletActiveClass.split(" ")),e.isElement&&b.forEach((E,y)=>{E.setAttribute("part",y===f?"bullet-active":"bullet")}),n.dynamicBullets){const E=b[z],y=b[S];for(let D=z;D<=S;D+=1)b[D]&&b[D].classList.add(...`${n.bulletActiveClass}-main`.split(" "));g(E,"prev"),g(y,"next")}}if(n.dynamicBullets){const k=Math.min(b.length,n.dynamicMainBullets+4),E=(s*k-s)/2-I*s,y=t?"right":"left";b.forEach(D=>{D.style[e.isHorizontal()?y:"top"]=`${E}px`})}}c.forEach((b,z)=>{if(n.type==="fraction"&&(b.querySelectorAll(T(n.currentClass)).forEach(S=>{S.textContent=n.formatFractionCurrent(f+1)}),b.querySelectorAll(T(n.totalClass)).forEach(S=>{S.textContent=n.formatFractionTotal(M)})),n.type==="progressbar"){let S;n.progressbarOpposite?S=e.isHorizontal()?"vertical":"horizontal":S=e.isHorizontal()?"horizontal":"vertical";const I=(f+1)/M;let k=1,E=1;S==="horizontal"?k=I:E=I,b.querySelectorAll(T(n.progressbarFillClass)).forEach(y=>{y.style.transform=`translate3d(0,0,0) scaleX(${k}) scaleY(${E})`,y.style.transitionDuration=`${e.params.speed}ms`})}n.type==="custom"&&n.renderCustom?(N(b,n.renderCustom(e,f+1,M)),z===0&&r("paginationRender",b)):(z===0&&r("paginationRender",b),r("paginationUpdate",b)),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](n.lockClass)})}function $(){const t=e.params.pagination;if(p())return;const n=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let c=e.pagination.el;c=L(c);let f="";if(t.type==="bullets"){let x=e.params.loop?Math.ceil(n/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&x>n&&(x=n);for(let B=0;B<x;B+=1)t.renderBullet?f+=t.renderBullet.call(e,B,t.bulletClass):f+=`<${t.bulletElement} ${e.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}t.type==="fraction"&&(t.renderFraction?f=t.renderFraction.call(e,t.currentClass,t.totalClass):f=`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),t.type==="progressbar"&&(t.renderProgressbar?f=t.renderProgressbar.call(e,t.progressbarFillClass):f=`<span class="${t.progressbarFillClass}"></span>`),e.pagination.bullets=[],c.forEach(x=>{t.type!=="custom"&&N(x,f||""),t.type==="bullets"&&e.pagination.bullets.push(...x.querySelectorAll(T(t.bulletClass)))}),t.type!=="custom"&&r("paginationRender",c[0])}function u(){e.params.pagination=W(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let n;typeof t.el=="string"&&e.isElement&&(n=e.el.querySelector(t.el)),!n&&typeof t.el=="string"&&(n=[...document.querySelectorAll(t.el)]),n||(n=t.el),!(!n||n.length===0)&&(e.params.uniqueNavElements&&typeof t.el=="string"&&Array.isArray(n)&&n.length>1&&(n=[...e.el.querySelectorAll(t.el)],n.length>1&&(n=n.find(c=>O(c,".swiper")[0]===e.el))),Array.isArray(n)&&n.length===1&&(n=n[0]),Object.assign(e.pagination,{el:n}),n=L(n),n.forEach(c=>{t.type==="bullets"&&t.clickable&&c.classList.add(...(t.clickableClass||"").split(" ")),c.classList.add(t.modifierClass+t.type),c.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.type==="bullets"&&t.dynamicBullets&&(c.classList.add(`${t.modifierClass}${t.type}-dynamic`),o=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),t.type==="progressbar"&&t.progressbarOpposite&&c.classList.add(t.progressbarOppositeClass),t.clickable&&c.addEventListener("click",A),e.enabled||c.classList.add(t.lockClass)}))}function d(){const t=e.params.pagination;if(p())return;let n=e.pagination.el;n&&(n=L(n),n.forEach(c=>{c.classList.remove(t.hiddenClass),c.classList.remove(t.modifierClass+t.type),c.classList.remove(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(c.classList.remove(...(t.clickableClass||"").split(" ")),c.removeEventListener("click",A))})),e.pagination.bullets&&e.pagination.bullets.forEach(c=>c.classList.remove(...t.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const t=e.params.pagination;let{el:n}=e.pagination;n=L(n),n.forEach(c=>{c.classList.remove(t.horizontalClass,t.verticalClass),c.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?h():(u(),$(),v())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&v()}),i("snapIndexChange",()=>{v()}),i("snapGridLengthChange",()=>{$(),v()}),i("destroy",()=>{d()}),i("enable disable",()=>{let{el:t}=e.pagination;t&&(t=L(t),t.forEach(n=>n.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{v()}),i("click",(t,n)=>{const c=n.target,f=L(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&f&&f.length>0&&!c.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&c===e.navigation.nextEl||e.navigation.prevEl&&c===e.navigation.prevEl))return;const x=f[0].classList.contains(e.params.pagination.hiddenClass);r(x===!0?"paginationShow":"paginationHide"),f.forEach(B=>B.classList.toggle(e.params.pagination.hiddenClass))}});const m=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=L(t),t.forEach(n=>n.classList.remove(e.params.pagination.paginationDisabledClass))),u(),$(),v()},h=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=L(t),t.forEach(n=>n.classList.add(e.params.pagination.paginationDisabledClass))),d()};Object.assign(e.pagination,{enable:m,disable:h,render:$,update:v,init:u,destroy:d})}function R(e,l){const i=document.getElementById(e);if(!i)return;if(!l||l.length===0){i.innerHTML='<div class="slideshow-empty">Keine Zeichnungen verfügbar</div>';return}const r=l.map(a=>`
    <div class="swiper-slide">
      <img src="/drawings/${encodeURIComponent(a)}" alt="Teilnehmer Zeichnung" loading="lazy">
    </div>
  `).join("");i.innerHTML=`
    <div class="swiper">
      <div class="swiper-wrapper">
        ${r}
      </div>
      <button class="swiper-button-prev" aria-label="Vorherige Zeichnung"></button>
      <button class="swiper-button-next" aria-label="Nächste Zeichnung"></button>
      <div class="swiper-pagination"></div>
    </div>
  `,new ne(i.querySelector(".swiper"),{modules:[me,he,fe],navigation:{nextEl:i.querySelector(".swiper-button-next"),prevEl:i.querySelector(".swiper-button-prev")},pagination:{el:i.querySelector(".swiper-pagination"),type:"fraction"},loop:l.length>1,keyboard:{enabled:!0}})}function U(e,l){const i=document.getElementById(e);if(!i)return;if(!l||l.length===0){i.innerHTML='<div class="text-list-empty">Keine Einträge vorhanden</div>';return}i.innerHTML="",l.forEach((s,o)=>{const p=pe(s,o+1);i.appendChild(p)});const r=i.querySelectorAll(".text-card"),a=new IntersectionObserver(s=>{s.forEach(o=>{o.isIntersecting&&(o.target.classList.add("visible"),a.unobserve(o.target))})},{threshold:.1});r.forEach(s=>a.observe(s))}function pe(e,l){const i=document.createElement("div");i.className="text-card",i.setAttribute("role","article");const r=document.createElement("span");r.textContent=e;const a=r.innerHTML;return i.innerHTML=`
    <div class="text-card-content">„${a}“</div>
    <div class="text-card-author">— Teilnehmer ${l}</div>
  `,i}const ve=["start","teil-a","teil-b","teil-c","teil-d","teil-e"];document.addEventListener("DOMContentLoaded",async()=>{new ae(ve),document.body.classList.add("loading-data");try{const e=await le();K("teil-a-content",e.teilA),_("teil-b-content",e.teilB,V),_("teil-c-content",e.teilC,G),U("abschiebsbriefe-content",e.abschiebsbriefe),R("slideshow-container",e.zeichnungen)}catch(e){console.error("Failed to load data:",e),K("teil-a-content",[]),_("teil-b-content",[],V),_("teil-c-content",[],G),U("abschiebsbriefe-content",[]),R("slideshow-container",[])}finally{document.body.classList.remove("loading-data")}});
